import{i as h,a as i,o as l,b}from"./email.DCT9hLZS.js";h();const t=document.getElementById("contact-form"),e=document.getElementById("form-message");t&&t.addEventListener("submit",async d=>{d.preventDefault();const s=t.querySelector('button[type="submit"]'),c=s.textContent,g=t.querySelector('input[name="contact_method"]:checked')?.value||"email",u=t.querySelectorAll("input[required], textarea[required]");let o=!1;if(u.forEach(a=>{a.value.trim()||(o=!0,a.classList.add("animate-shake","border-red-500"),setTimeout(()=>{a.classList.remove("animate-shake","border-red-500")},500))}),o){e&&(e.textContent="Por favor, completá todos los campos requeridos.",e.className="mt-4 text-sm p-3 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-100 rounded-lg animate-shake",e.classList.remove("hidden"),setTimeout(()=>{e.classList.remove("animate-shake")},500));return}const r=new FormData(t),n={name:r.get("name"),email:r.get("email"),message:r.get("message")};if(g==="whatsapp"){const a=i({name:n.name,message:n.message});l(a),e&&(e.textContent="¡Perfecto! Se abrió WhatsApp con tu mensaje. Solo presioná enviar.",e.className="mt-4 text-sm p-3 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-100 rounded-lg",e.classList.remove("hidden")),t.reset();return}s.disabled=!0,s.textContent="Enviando...";try{await b(n),e&&(e.textContent="¡Mensaje enviado exitosamente! Nos pondremos en contacto pronto.",e.className="mt-4 text-sm p-3 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-100 rounded-lg",e.classList.remove("hidden")),t.reset()}catch(a){console.error("Error:",a),e&&(e.innerHTML='Hubo un error al enviar el mensaje. Por favor, intenta nuevamente o <a href="#" id="fallback-whatsapp" class="underline font-semibold">contáctanos por WhatsApp</a>.',e.className="mt-4 text-sm p-3 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-100 rounded-lg animate-shake",e.classList.remove("hidden"),setTimeout(()=>{const m=document.getElementById("fallback-whatsapp");m&&m.addEventListener("click",p=>{p.preventDefault();const f=i({name:n.name,message:n.message});l(f)}),e.classList.remove("animate-shake")},500))}finally{s.disabled=!1,s.textContent=c}});
