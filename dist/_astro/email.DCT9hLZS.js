class c{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const P=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},o={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:P()},h=e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},_=(e,t="https://api.emailjs.com")=>{if(!e)return;const a=h(e);o.publicKey=a.publicKey,o.blockHeadless=a.blockHeadless,o.storageProvider=a.storageProvider,o.blockList=a.blockList,o.limitRate=a.limitRate,o.origin=a.origin||t},b=async(e,t,a={})=>{const i=await fetch(o.origin+e,{method:"POST",headers:a,body:t}),r=await i.text(),s=new c(i.status,r);if(i.ok)return s;throw s},y=(e,t,o)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!=typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!o||"string"!=typeof o)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},R=e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},w=e=>e.webdriver||!e.languages||0===e.languages.length,f=()=>new c(451,"Unavailable For Headless Browser"),H=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!=typeof t)throw"The BlockList watchVariable has to be a string"},S=e=>!e.list?.length||!e.watchVariable,$=(e,t)=>e instanceof FormData?e.get(t):e[t],v=(e,t)=>{if(S(e))return!1;H(e.list,e.watchVariable);const o=$(t,e.watchVariable);return"string"==typeof o&&e.list.includes(o)},k=()=>new c(403,"Forbidden"),E=(e,t)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!=typeof t)throw"The LimitRate ID has to be a non-empty string"},F=async(e,t,o)=>{const a=Number(await o.get(e)||0);return t-Date.now()+a},j=async(e,t,o)=>{if(!t.throttle||!o)return!1;E(t.throttle,t.id);const a=t.id||e;return await F(a,t.throttle,o)>0||(await o.set(a,Date.now().toString()),!1)},T=()=>new c(429,"Too Many Requests"),K=async(e,t,a,i)=>{const r=h(i),s=r.publicKey||o.publicKey,n=r.blockHeadless||o.blockHeadless,c=r.storageProvider||o.storageProvider,m={...o.blockList,...r.blockList},l={...o.limitRate,...r.limitRate};return n&&w(navigator)?Promise.reject(f()):(y(s,e,t),R(a),a&&v(m,a)?Promise.reject(k()):await j(location.pathname,l,c)?Promise.reject(T()):b("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:e,template_id:t,template_params:a}),{"Content-type":"application/json"}))},V=e=>{if(!e||"FORM"!==e.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},C=e=>"string"==typeof e?document.querySelector(e):e,N=async(e,t,a,i)=>{const r=h(i),s=r.publicKey||o.publicKey,n=r.blockHeadless||o.blockHeadless,c=o.storageProvider||r.storageProvider,m={...o.blockList,...r.blockList},l={...o.limitRate,...r.limitRate};if(n&&w(navigator))return Promise.reject(f());const p=C(a);y(s,e,t),V(p);const d=new FormData(p);return v(m,d)?Promise.reject(k()):await j(location.pathname,l,c)?Promise.reject(T()):(d.append("lib_version","4.4.1"),d.append("service_id",e),d.append("template_id",t),d.append("user_id",s),b("/api/v1.0/email/send-form",d))},g={init:_,send:K,sendForm:N,EmailJSResponseStatus:c},B=()=>{g.init("LmoHI3nOXiXQdN7P8")},L=()=>(new Date).toLocaleString("es-AR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),I=async e=>{try{return await g.send("service_wcv0ltx","template_yu6a57k",{name:e.name,from_name:e.name,from_email:e.email,message:e.message,time:L(),to_email:"martin.navarro.dev@gmail.com"})}catch(e){throw console.error("Error sending contact email:",e),e}},M=async e=>{let t=`${e.name}`;e.company&&(t+=` de ${e.company}`),t+=` quiere desarrollar ${e.projectType}.`,e.basics.length>0&&(t+=` Cuenta con: ${e.basics.join(", ")}.`),e.modules.length>0&&(t+=` Le interesan los módulos: ${e.modules.join(", ")}.`),e.comments&&(t+=` Comentarios adicionales: ${e.comments}`);try{return await g.send("service_wcv0ltx","template_yu6a57k",{name:e.name,from_name:e.name,from_email:e.email,phone:e.phone,company:e.company||"No especificada",project_type:e.projectType,summary:t,time:L(),to_email:"martin.navarro.dev@gmail.com"})}catch(e){throw console.error("Error sending budget email:",e),e}},q=e=>{const t=e.name.split(" ")[0];return encodeURIComponent(`Hola, mi nombre es *${t}*. Me comunico para realizarles la siguiente consulta:\n\n${e.message}\n\nDesde ya, muchas gracias.`)},x=e=>{let t=`Hola, mi nombre es *${e.name.split(" ")[0]}*`;return e.company&&(t+=` y represento a *${e.company}*`),t+=". Me comunico para solicitar un presupuesto:\n\n",t+="*Tipo de proyecto:*\n",t+=`${e.projectType}\n\n`,e.basics.length>0&&(t+="*¿Qué tengo preparado?*\n",e.basics.forEach((e=>{t+=`• ${e}\n`})),t+="\n"),e.modules.length>0&&(t+="*Funcionalidades que necesito:*\n",e.modules.forEach((e=>{t+=`• ${e}\n`})),t+="\n"),e.comments&&(t+="*Comentarios adicionales:*\n",t+=`${e.comments}\n\n`),t+="Quedo atento a su respuesta. Desde ya, muchas gracias.",encodeURIComponent(t)},O=e=>{const t=`https://wa.me/5492915278982?text=${e}`;window.open(t,"_blank")};export{q as a,I as b,x as g,B as i,O as o,M as s};